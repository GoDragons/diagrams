{
  "scripts": {
    "sam_package": "sam package --use-json --template-file template.json --s3-bucket godragons-chat --output-template-file .sam_package/packaged.json",
    "sam_deploy": "sam deploy --use-json  --stack-name chat-app-json --template-file .sam_package/packaged.json --s3-bucket godragons-chat --region eu-west-2 --capabilities CAPABILITY_IAM --confirm-changeset",
    "compute_template": "node infra.js ",
    "cleanup_pre": "rm -rf .sam_package && mkdir .sam_package",
    "cleanup_post": "rm template.json",
    "deploy": "npm run cleanup_pre && npm run compute_template && npm run sam_package && npm run cleanup_post && npm run sam_deploy",
    "destroy": "aws cloudformation delete-stack --stack-name chat-app-json"
  }
}
